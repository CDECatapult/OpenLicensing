#!/bin/bash

function section {
echo
echo "# -----------------------------------------------------------------------"
echo "# $1"
echo "# -----------------------------------------------------------------------"
echo
}

function create_ontology {
section "WARNING: THIS FILE IS AUTOMATICALLY GENERATED - DO NOT EDIT DIRECTLY"
cat openlicensing/prefix.ttl | sed -e "s/|compiledate|/$(date --iso-8601=seconds)/g" |sed -e "s/+0000/Z/g"

section "Ids"
cat openlicensing/ids.ttl
section "Assets"
cat openlicensing/asset.ttl
section "Parties"
cat openlicensing/party.ttl


section "Constraints"
cat openlicensing/constraint.ttl
section "Rules"
cat openlicensing/rule.ttl

section "Policies"
cat openlicensing/policy.ttl

section "Asset sets"
cat openlicensing/set.ttl

}

create_ontology > openlicensing.ttl
python ttl2xml.py openlicensing.ttl
